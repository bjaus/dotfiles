#!/usr/bin/env bash

# Install useful Go development tools

set -e

# Colors for output
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

echo "ðŸ“¦ Installing Go development tools..."

# Formatters
echo "Installing formatters..."
go install golang.org/x/tools/cmd/goimports@latest
go install mvdan.cc/gofumpt@latest

# Linters
echo "Installing linters..."
go install honnef.co/go/tools/cmd/staticcheck@latest
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest

# Other useful tools
echo "Installing other tools..."
go install golang.org/x/tools/gopls@latest  # Language server
go install github.com/go-delve/delve/cmd/dlv@latest  # Debugger

echo ""
echo -e "${GREEN}âœ“ Go tools installed successfully!${NC}"
echo ""
echo "Installed tools:"
echo "  â€¢ goimports - Formats Go code and fixes imports"
echo "  â€¢ gofumpt - Stricter gofmt"
echo "  â€¢ staticcheck - Advanced Go linter"
echo "  â€¢ golangci-lint - Meta linter that runs multiple linters"
echo "  â€¢ gopls - Go language server"
echo "  â€¢ dlv - Go debugger"
echo ""
echo "These tools will be used by:"
echo "  â€¢ Git pre-commit hooks"
echo "  â€¢ Neovim (via LSP and formatting)"
echo "  â€¢ Manual linting/formatting"